@config "../tailwind.config.js";
@plugin "tailwindcss-animate";

@custom-variant dark (&:is(.dark *));

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Box-sizing reset - обеспечивает предсказуемые размеры элементов, включая padding и border */
*,
*::before,
*::after {
  box-sizing: border-box;
}

/* CSS Variables - Single Source of Truth для всех дизайн-токенов проекта */
:root {
  /* Указываем браузеру использовать темную цветовую схему для системных элементов */
  color-scheme: dark;
  --font-sans: system-ui, sans-serif;
  --radius: 0.625rem;
  --header-height: 72px;
  --container-max: 1200px;
  --transition-fast: 150ms ease;
  --color-background: #0a0a0a;
  --color-foreground: #ffffff;
  --color-primary: #ff2b2b;
  --color-secondary: #1b1b1b;
  --color-muted: #a3a3a3;
  --color-surface: #151515;
  --color-surface-muted: #1f1f1f;
  --color-surface-strong: #000000;
  --color-border: #2a2a2a;
  --color-border-strong: #3a3a3a;
  --color-border-dashed: #444444;
  --color-text-subtle: #8c8c8c;
  --color-on-primary: #ffffff;
  --color-ring: #ff2b2b;
  --color-overlay: rgba(0, 0, 0, 0.6);
  
  /* Градиент для contact-button - создает эффект анимированного свечения */
  --color-primary-dark: #5c1212;
  --color-primary-light: #ff5a5a;
  
  /* Тени для contact-button - многослойный эффект для глубины */
  --shadow-contact-default: 0 0 0 0.5px rgba(255, 43, 43, 0.55), 0 0 0 0 rgba(255, 43, 43, 0);
  --shadow-contact-hover: 0 0 0 0.5px rgba(255, 160, 160, 0.95), 0 0 18px rgba(255, 43, 43, 0.6);
  --shadow-contact-active: 0 0 0 0.5px rgba(255, 43, 43, 0.9), 0 0 10px rgba(255, 43, 43, 0.75);
  
  /* Фон для contact-button::before - затемнение для читаемости текста поверх градиента */
  --color-overlay-dark: rgba(0, 0, 0, 0.88);
  
  /* Фоны для кнопок карусели - полупрозрачные для эффекта стекла */
  --color-carousel-nav-bg: rgba(255, 255, 255, 0.1);
  --color-carousel-nav-bg-hover: rgba(255, 255, 255, 0.2);
  
  /* Общие паттерны - вынесены в переменные для единообразия и Single Source of Truth */
  --spacing-button-padding: 10px 18px;
  --spacing-card-padding: 20px;
  --spacing-card-gap: 8px;
  --spacing-card-gap-large: 12px;
  --spacing-section-padding: 80px 20px;
  --focus-outline: 2px solid var(--color-ring);
  --focus-offset: 2px;
  /* Трансформации для интерактивных элементов - единообразные эффекты hover и active */
  --transform-hover-lift: translateY(-1px);
  --transform-active-press: scale(0.97);
  /* Z-index иерархия - управление слоями для правильного наложения элементов */
  --z-index-skip-link: 1000;
  --z-index-header: 200;
  --z-index-carousel-nav: 10;
}

/* Плавная прокрутка для улучшения UX при навигации по странице */
html {
  scroll-behavior: smooth;
}

/* Базовые стили body - используем CSS-переменные для единообразия темы */
body {
  margin: 0;
  font-family: var(--font-sans);
  color: var(--color-foreground);
  background: var(--color-background);
  min-height: 100vh;
  /* Предотвращаем горизонтальный скролл при переполнении контента */
  overflow-x: hidden;
}

/* Фиксируем body при открытом меню - предотвращаем прокрутку фона для лучшего UX мобильного меню */
body.menu-open {
  position: fixed;
  width: 100%;
  overflow: hidden;
}

/* Сброс стилей ссылок - наследуем цвет и убираем подчеркивание для чистого дизайна */
a {
  color: inherit;
  text-decoration: none;
}

/* Размытие фона при открытом мобильном меню - визуально выделяет меню и фокусирует внимание */
.page--blurred {
  filter: blur(8px);
  transition: filter var(--transition-fast);
}

/* Skip link для доступности - скрыт визуально, но доступен для screen readers и клавиатурной навигации */
.skip-link {
  position: absolute;
  left: -999px;
  top: auto;
  width: 1px;
  height: 1px;
  overflow: hidden;
}

.skip-link:focus {
  position: fixed;
  left: 16px;
  top: 16px;
  width: auto;
  height: auto;
  padding: 8px 12px;
  background: var(--color-primary);
  color: var(--color-on-primary);
  z-index: var(--z-index-skip-link);
}

/* Фиксированный хедер - всегда видим при прокрутке для постоянного доступа к навигации */
.site-header {
  position: fixed;
  top: 0;
  width: 100%;
  height: var(--header-height);
  background: var(--color-surface);
  border-bottom: 1px solid var(--color-border);
  z-index: var(--z-index-header);
}

/* Базовый контейнер - единый источник для всех контейнеров с max-width */
.container-base,
.navbar,
.section,
.footer-content {
  max-width: var(--container-max);
  margin: 0 auto;
}

/* Навигационная панель - сетка с тремя колонками: burger, логотип (центр), действия (справа) */
.navbar {
  height: 100%;
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: 24px;
  padding: 0 20px;
}

/* Кнопка мобильного меню - квадратная для удобного тапа на мобильных устройствах */
.burger-button {
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Бренд/логотип - кликабельный элемент для возврата на главную, центрируется на мобильных */
.brand {
  justify-self: center;
  font-weight: 700;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  background: none;
  border: none;
  padding: 0;
  cursor: pointer;
  user-select: none;
}

.brand-logo {
  display: block;
  /* Уменьшаем высоту на мобильных для визуального баланса с burger-кнопкой */
  height: calc(var(--header-height) - 8px);
  max-height: calc(var(--header-height) - 8px);
  width: auto;
  object-fit: contain;
  user-select: none;
  -webkit-user-drag: none;
}

/* Адаптивная сетка навигации: на планшетах+ логотип выравнивается к началу для лучшей читаемости */
@media (min-width: 768px) {
  .navbar {
    grid-template-columns: auto auto 1fr;
  }

  .brand {
    justify-self: start;
  }

  .brand-logo {
    /* На больших экранах логотип ближе к полной высоте для лучшей видимости */
    height: calc(var(--header-height) - 2px);
    max-height: calc(var(--header-height) - 2px);
  }
}

/* Контейнер действий навигации - выравнивается вправо в сетке navbar */
.nav-actions {
  display: flex;
  gap: 20px;
  align-items: center;
  justify-self: end;
}

/* Десктопная навигация - горизонтальное меню ссылок, скрывается на мобильных */
.desktop-nav {
  display: flex;
  gap: 16px;
  align-items: center;
}

/* Стили ссылок десктопной навигации - компактный размер для экономии места */
.desktop-nav a {
  font-size: 14px;
  letter-spacing: 0.02em;
  color: var(--color-foreground);
}

/* Десктопная навигация скрывается на мобильных и планшетах для экономии места - используется burger-меню */
@media (max-width: 1023px) {
  .desktop-nav {
    display: none;
  }
}

/* Базовые стили кнопок - единый источник для всех типов кнопок */
.button-base,
.cta-button,
.ghost-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: var(--spacing-button-padding);
  border-radius: var(--radius);
  outline: none;
  transition: transform var(--transition-fast);
}

/* Основная CTA кнопка - яркий акцентный цвет для привлечения внимания к действию */
.cta-button {
  background: var(--color-primary);
  color: var(--color-on-primary);
  font-weight: 600;
  border: none;
}

/* Hover эффект CTA - легкий подъем для визуальной обратной связи */
.cta-button:hover {
  transform: var(--transform-hover-lift);
}

/* Active состояние CTA - уменьшение для тактильной обратной связи при клике */
.cta-button:active {
  transform: var(--transform-active-press);
}

/* Ghost кнопка - прозрачный фон с обводкой для вторичных действий, менее навязчивая чем CTA */
.ghost-button {
  background: transparent;
  border: 1px solid var(--color-foreground);
  color: var(--color-foreground);
}

/* Базовые стили заголовков карточек - единый источник для консистентной типографики */
.card-title-base,
.info-card-title,
.product-card-title {
  margin: 0;
  font-size: 18px;
  font-weight: 700;
  color: var(--color-foreground);
  line-height: 1.3;
}

/* Active состояние ghost кнопки - единообразная обратная связь с CTA */
.ghost-button:active {
  transform: var(--transform-active-press);
}

/* Единый стиль focus для всех интерактивных элементов */
.cta-button:focus-visible,
.ghost-button:focus-visible,
.contact-button:focus-visible {
  outline: var(--focus-outline);
  outline-offset: var(--focus-offset);
}

/* Отступ main для фиксированного хедера - предотвращает перекрытие контента */
main {
  padding-top: var(--header-height);
}

/* Главная секция hero - использует .container-base для единообразия max-width и центрирования */
.hero {
  max-width: var(--container-max);
  margin: 0 auto;
  padding: 80px 20px 120px;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 40px;
  align-items: center;
}

/* Eyebrow текст - мелкий заголовок над основным заголовком для иерархии информации */
.eyebrow {
  text-transform: uppercase;
  letter-spacing: 0.16em;
  font-size: 12px;
  color: var(--color-muted);
}

/* Адаптивный заголовок hero - использует clamp для плавного масштабирования между breakpoints */
.hero h1 {
  font-size: clamp(32px, 4vw, 56px);
  margin: 12px 0;
}

/* Текст hero - ограниченная ширина для оптимальной читаемости длинных строк */
.hero-text {
  font-size: 16px;
  line-height: 1.6;
  max-width: 520px;
}

/* Контейнер кнопок действий hero - flex-wrap для адаптивности на узких экранах */
.hero-actions {
  display: flex;
  gap: 12px;
  margin-top: 24px;
  flex-wrap: wrap;
}

/* Контейнер медиа hero - центрирует изображение/видео */
.hero-media {
  display: grid;
  place-items: center;
}

/* Placeholder для изображений - визуально обозначает место для будущего контента */
.image-placeholder {
  width: 100%;
  min-height: 260px;
  border: 2px dashed var(--color-border-dashed);
  display: grid;
  place-items: center;
  color: var(--color-muted);
  font-size: 14px;
  letter-spacing: 0.08em;
  background: var(--color-surface-muted);
}

/* Базовый контейнер для всех секций страницы - использует .container-base для единообразия max-width */
.section {
  padding: var(--spacing-section-padding);
  display: grid;
  grid-template-columns: minmax(0, 1fr);
  gap: 20px;
}

/* Заголовок секции - адаптивный размер для консистентной типографики */
.section-title {
  font-size: clamp(24px, 3vw, 36px);
  margin: 0;
}

/* Описание секции - ограниченная ширина для оптимальной читаемости */
.section-description {
  margin: 0;
  max-width: 680px;
  color: var(--color-muted);
  line-height: 1.6;
}

/* Адаптивная сетка секций - автоматически подстраивается под доступное пространство */
.section-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 16px;
}

/* Base card styles - Single Source of Truth для всех типов карточек */
.card-base {
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  padding: var(--spacing-card-padding);
  border-radius: var(--radius);
}

/* Info карточка - расширяет .card-base, использует grid для вертикального расположения контента */
.info-card {
  display: grid;
  gap: var(--spacing-card-gap);
}

/* Текст info карточки - приглушенный цвет для визуальной иерархии */
.info-card-text {
  margin: 0;
  color: var(--color-muted);
  line-height: 1.5;
}

/* Список в info карточке - маркированный список с вертикальными отступами */
.info-card-list {
  margin: 0;
  padding-left: 18px;
  display: grid;
  gap: 8px;
  list-style: disc;
  color: var(--color-muted);
}

/* Футер сайта - темный фон для визуального отделения от основного контента */
.site-footer {
  background: var(--color-surface-strong);
  color: var(--color-on-primary);
  padding: 32px 20px;
}

/* Контент футера - использует .container-base для единообразия max-width и центрирования */
.footer-content {
  display: flex;
  justify-content: space-between;
  gap: 12px;
  flex-wrap: wrap;
}

/* Кнопка контакта - сложная анимация с градиентом и тенями для привлечения внимания */
.contact-button {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 148px;
  height: 40px;
  padding: 0;
  border: none;
  /* Анимированный градиент - создает эффект "бегущего света" при hover */
  background: linear-gradient(
    to right,
    var(--color-primary-dark),
    var(--color-primary),
    var(--color-primary-light),
    var(--color-primary),
    var(--color-primary-dark)
  );
  background-size: 250%;
  background-position: left;
  color: var(--color-on-primary);
  cursor: pointer;
  overflow: hidden;
  transition:
    background-position 260ms ease-out,
    transform var(--transition-fast),
    box-shadow 260ms ease-out;
  box-shadow: var(--shadow-contact-default);
  border-radius: var(--radius);
}

/* Псевдоэлемент ::before для текста кнопки - затемненный фон для читаемости поверх градиента */
.contact-button::before {
  content: "СВЯЗАТЬСЯ";
  position: absolute;
  inset: 1px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: var(--font-sans);
  color: var(--color-on-primary);
  font-weight: 600;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  font-size: 12px;
  /* Затемнение для контраста текста с ярким градиентом */
  background-color: var(--color-overlay-dark);
  background-size: 200%;
  background-position: left;
  transition:
    background-position 260ms ease-out,
    background-color 260ms ease-out;
  border-radius: calc(var(--radius) - 1px);
}

/* Hover состояние - сдвигает градиент вправо и добавляет свечение */
.contact-button:hover {
  background-position: right;
  transform: var(--transform-hover-lift);
  box-shadow: var(--shadow-contact-hover);
}

/* Синхронизация анимации ::before с основным градиентом при hover */
.contact-button:hover::before {
  background-position: right;
}

/* Active состояние - уменьшение и усиление тени для тактильной обратной связи */
.contact-button:active {
  transform: var(--transform-active-press);
  box-shadow: var(--shadow-contact-active);
}

/* Product Carousel - Native Scroll Snap Implementation для плавной прокрутки без JS библиотек */
.product-carousel {
  position: relative;
  width: 100%;
  max-width: 100%;
  min-width: 0;
  /* Отступы для размещения навигационных стрелок без перекрытия контента */
  padding: 0 24px;
}

.product-carousel-track {
  display: grid;
  grid-auto-flow: column;
  /* Mobile-first: одна карточка на всю ширину для лучшей читаемости */
  grid-auto-columns: 100%;
  gap: 16px;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  scroll-behavior: smooth;
  /* Скрываем scrollbar для всех браузеров для чистого вида */
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
  min-width: 0;
  cursor: grab;
}

/* Изменение курсора при перетаскивании - визуальная обратная связь для drag-взаимодействия */
.product-carousel-track:active {
  cursor: grabbing;
}

.product-carousel-track::-webkit-scrollbar {
  display: none;
}

/* Адаптивная сетка карусели: увеличиваем количество карточек и отступы на больших экранах */
@media (min-width: 640px) {
  .product-carousel {
    padding: 0 50px;
  }
  
  .product-carousel-track {
    grid-auto-columns: calc((100% - 16px) / 2);
  }
}

@media (min-width: 1024px) {
  .product-carousel {
    padding: 0 56px;
  }
  
  .product-carousel-track {
    grid-auto-columns: calc((100% - 32px) / 3);
  }
}

@media (min-width: 1280px) {
  .product-carousel {
    padding: 0 60px;
  }
  
  .product-carousel-track {
    grid-auto-columns: calc((100% - 48px) / 4);
  }
}

/* Product Card - extends .card-base для консистентности с другими карточками */
.product-card {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-card-gap-large);
  scroll-snap-align: start;
  scroll-snap-stop: always;
  /* Минимальная высота для единообразия карточек разного контента */
  min-height: 180px;
  user-select: none;
}

.product-card * {
  user-select: none;
}

/* Список характеристик продукта - вертикальный список без маркеров */
.product-card-list {
  margin: 0;
  padding: 0;
  list-style: none;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

/* Элемент списка продукта - компактный размер для экономии места в карточке */
.product-card-item {
  font-size: 14px;
  line-height: 1.6;
  color: var(--color-muted);
}

/* Navigation Arrows - стеклянный эффект для видимости поверх контента */
.carousel-nav {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 40px;
  height: 40px;
  border: none;
  background: var(--color-carousel-nav-bg);
  backdrop-filter: blur(8px);
  color: var(--color-foreground);
  font-size: 20px;
  border-radius: 50%;
  cursor: pointer;
  transition: all var(--transition-fast);
  z-index: var(--z-index-carousel-nav);
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Hover состояние навигации - увеличение и изменение прозрачности для обратной связи */
.carousel-nav:hover:not(:disabled) {
  background: var(--color-carousel-nav-bg-hover);
  transform: translateY(-50%) scale(1.1);
}

/* Disabled состояние навигации - визуально показывает недоступность действия */
.carousel-nav:disabled {
  opacity: 0.3;
  cursor: not-allowed;
}

/* Позиционирование стрелок навигации - базовые отступы от краев карусели */
.carousel-nav-prev {
  left: 4px;
}

.carousel-nav-next {
  right: 4px;
}

/* Адаптивные стили навигации карусели: группировка всех медиа-запросов */
/* Мобильные: меньшие размеры и отступы для экономии места */
@media (max-width: 639px) {
  .carousel-nav {
    width: 36px;
    height: 36px;
    font-size: 18px;
  }

  .carousel-nav-prev {
    left: 2px;
    display: none;
  }

  .carousel-nav-next {
    right: 2px;
    display: none;
  }
}

/* Пагинация карусели — только на мобильных (≤639px), подсказка что карточки можно листать */
.carousel-pagination {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  margin-top: 12px;
  padding: 8px 0;
}

.carousel-pagination-dot {
  width: 8px;
  height: 8px;
  padding: 0;
  border: none;
  border-radius: 50%;
  background: var(--color-muted);
  cursor: pointer;
  transition: background-color var(--transition-fast), transform var(--transition-fast);
}

.carousel-pagination-dot:hover {
  background: var(--color-border-strong);
}

.carousel-pagination-dot:focus-visible {
  outline: var(--focus-outline);
  outline-offset: var(--focus-offset);
}

.carousel-pagination-dot-active {
  background: var(--color-primary);
  transform: scale(1.25);
}

.carousel-pagination-dot-active:hover {
  background: var(--color-primary-light);
}

/* Десктоп: увеличенные отступы для лучшей доступности и видимости */
@media (min-width: 1024px) {
  .carousel-nav-prev {
    left: 6px;
  }
  
  .carousel-nav-next {
    right: 6px;
  }
}

/* Уважаем предпочтения пользователей с вестибулярными расстройствами - отключаем анимации для предотвращения тошноты и головокружения */
@media (prefers-reduced-motion: reduce) {
  * {
    transition-duration: 1ms !important;
    animation-duration: 1ms !important;
    scroll-behavior: auto;
  }
}

/* Tailwind base layer - применяем глобальные стили через Tailwind утилиты для консистентности */
@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}
